<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>OlimpShop49</title>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap" rel="stylesheet">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Montserrat', sans-serif;
      background-color: #0e0e1f;
      background-image: url('https://img.freepik.com/free-photo/view-ancient-greek-architecture-with-temple-structure_23-2151664764.jpg?semt=ais_hybrid&w=740');
      background-size: cover;
      background-position: center;
      background-attachment: fixed;
      color: #f0f0f0;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 20px;
      animation: fadeIn 1s ease-in-out;
    }

    .hero {
      text-align: center;
      margin-bottom: 30px;
      animation: thunderFlash 2s ease-in-out infinite;
    }

    .logo {
      font-size: 3rem;
      font-weight: 900;
      color: #ffd700;
      text-shadow: 0 0 15px #ffd700, 0 0 30px #fffb00;
    }

    .welcome {
      margin-top: 10px;
      font-size: 1.2rem;
      color: #ccc;
    }

    .container {
      width: 100%;
      max-width: 1000px;
    }

    .category-tabs {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 10px;
      margin-bottom: 20px;
    }

    .category-tabs button {
      background: #ffd700;
      color: #000;
      padding: 10px 15px;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      font-weight: bold;
      transition: background 0.3s;
    }

    .category-tabs button:hover {
      background: #fff700;
    }

    .products {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
      gap: 20px;
    }

    .product-card {
      background: rgba(0, 0, 0, 0.6);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 12px;
      padding: 15px;
      text-align: center;
      backdrop-filter: blur(6px);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      box-shadow: 0 0 25px rgba(255, 215, 0, 0.2);
    }

    .product-card:hover {
      transform: scale(1.03);
      box-shadow: 0 0 35px rgba(255, 215, 0, 0.4);
    }

    .product-card img {
      width: 100%;
      height: 180px;
      object-fit: cover;
      border-radius: 8px;
    }

    .product-card h3 {
      margin-top: 10px;
      font-size: 1.2rem;
      color: #ffd700;
    }

    .product-card p {
      font-size: 0.9rem;
      color: #bbb;
      margin: 10px 0;
    }

    .price {
      color: #fff;
      font-weight: bold;
      margin-bottom: 10px;
    }

    .qty-controls {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 8px;
      margin-top: 10px;
    }

    .qty-controls button {
      background: #ffd700;
      border: none;
      border-radius: 50%;
      width: 32px;
      height: 32px;
      font-weight: bold;
      font-size: 1.1rem;
      cursor: pointer;
      color: #000;
    }

    .cart {
      margin-top: 40px;
      background: rgba(0, 0, 0, 0.6);
      padding: 20px;
      border-radius: 10px;
      backdrop-filter: blur(8px);
      width: 100%;
      max-width: 1000px;
    }

    #delivery {
      width: 100%;
      padding: 12px;
      margin: 15px 0;
      border-radius: 6px;
      border: none;
      background: rgba(255, 255, 255, 0.9);
      color: #000;
      font-weight: bold;
    }
    
    .delivery-info {
      color: #ffd700;
      margin: 5px 0;
      font-size: 0.9rem;
    }

    #address {
      width: 100%;
      padding: 10px;
      margin-top: 10px;
      border: none;
      border-radius: 5px;
      outline: none;
    }

    #confirmOrder {
      margin-top: 15px;
      width: 100%;
      padding: 12px;
      background: #ffd700;
      border: none;
      font-weight: bold;
      border-radius: 6px;
      cursor: pointer;
      transition: all 0.3s;
    }

    #confirmOrder:hover {
      background: #fff700;
      box-shadow: 0 0 15px rgba(255, 215, 0, 0.6);
    }

    footer {
      margin-top: 60px;
      text-align: center;
      color: #aaa;
      font-size: 0.9rem;
    }

    footer a {
      color: #ffd700;
      text-decoration: none;
    }

    @keyframes fadeIn {
      0% { opacity: 0; transform: translateY(-20px); }
      100% { opacity: 1; transform: translateY(0); }
    }

    @keyframes thunderFlash {
      0%, 100% { text-shadow: 0 0 15px #ffd700, 0 0 30px #fffb00; }
      50% { text-shadow: 0 0 25px #fffb00, 0 0 45px #fff200; }
    }

    #total-summary {
      margin: 10px 0;
      font-weight: bold;
    }

    #total-summary p {
      margin: 5px 0;
    }
  </style>
</head>
<body>
  <div class="hero">
    <h1 class="logo">‚ö°Ô∏è OlimpShop49 ‚ö°Ô∏è</h1>
    <p class="welcome">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å! –ü–æ—á—É–≤—Å—Ç–≤—É–π –≥–Ω–µ–≤ –ó–µ–≤—Å–∞ ‚Äî –≤—ã–±–µ—Ä–∏ —Å–≤–æ–π —Ç–æ–≤–∞—Ä –∏ –±—É–¥—å –º–æ–ª–Ω–∏–µ–Ω–æ—Å–Ω—ã–º.</p>
  </div>

  <div class="container">
    <div class="category-tabs">
      <button onclick="filterCategory('pod')">–ü–æ–¥–∏–∫–∏</button>
      <button onclick="filterCategory('juice')">–ñ–∏–∂–∏</button>
      <button onclick="filterCategory('disposable')">–û–¥–Ω–æ—Ä–∞–∑–∫–∏</button>
      <button onclick="filterCategory('vaporizer')">–ò—Å–ø–∞—Ä–∏—Ç–µ–ª–∏</button>
      <button onclick="filterCategory()">–í—Å–µ —Ç–æ–≤–∞—Ä—ã</button>
    </div>
    <div class="products" id="product-list">
      <!-- JS –¥–æ–±–∞–≤–∏—Ç —Ç–æ–≤–∞—Ä—ã —Å—é–¥–∞ -->
    </div>
  </div>

  <div class="cart" id="cart">
    <h2>üõí –ö–æ—Ä–∑–∏–Ω–∞</h2>
    <div id="cart-items"></div>
    
    <select id="delivery">
      <option value="">-- –í—ã–±–µ—Ä–∏ —Ä–∞–π–æ–Ω, —Å–º–µ—Ä—Ç–Ω—ã–π --</option>
      <option value="200">3-–π –º–∏–∫—Ä–æ—Ä–∞–π–æ–Ω –∏ –Ø–º–∞ (200‚ÇΩ)</option>
      <option value="225">–ü—Ä–∏–≥–æ—Ä–æ–¥–Ω—ã–π (225‚ÇΩ)</option>
      <option value="225">–ó–≤–µ–∑–¥–∞ / –ê–≤—Ç–æ—Ç—ç–∫ (225‚ÇΩ)</option>
      <option value="325">–°–æ–ª–Ω–µ—á–Ω—ã–π / –ü–∏–æ–Ω–µ—Ä–Ω—ã–π (325‚ÇΩ)</option>
      <option value="180">–¶–µ–Ω—Ç—Ä (180‚ÇΩ)</option>
    </select>
    <p class="delivery-info">‚ö° –í—ã–±–µ—Ä–∏ —Ä–∞–π–æ–Ω –∏ –ø–æ–ª—É—á–∏ –º–æ–ª–Ω–∏—é –ó–µ–≤—Å–∞ –ø—Ä—è–º–æ –≤ —Ä—É–∫–∏!</p>
    
    <input type="text" id="address" placeholder="–¢–æ—á–Ω—ã–π –∞–¥—Ä–µ—Å, —Å–º–µ—Ä—Ç–Ω—ã–π" />
    <div id="total-summary"></div>
    <button id="confirmOrder" onclick="submitOrder()">‚ö° –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –∑–∞–∫–∞–∑ ‚ö°</button>
  </div>

  <footer>
    <hr style="border-color: rgba(255, 255, 255, 0.2); margin-bottom: 15px;">
    <p>¬© 2025 OlimpShop49. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
    <p>
      <a href="https://t.me/olimp_shop49" target="_blank">–ú—ã –≤ Telegram</a> |
      <a href="#">–ü–æ–ª–∏—Ç–∏–∫–∞ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏</a> |
      <a href="#">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a>
    </p>
  </footer>

  <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º Telegram WebApp SDK -->
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  
  <script>
    const products = [
      { id: 1, name: "Pod Aegis", category: "pod", price: 1500, image: "https://via.placeholder.com/240x180", description: "–ú–æ—â–Ω—ã–π –∏ –Ω–∞–¥–µ–∂–Ω—ã–π –ø–æ–¥." },
      { id: 2, name: "–ñ–∏–∂–∞ Mango", category: "juice", price: 600, image: "https://via.placeholder.com/240x180", description: "–°–æ—á–Ω—ã–π –º–∞–Ω–≥–æ –≤–∫—É—Å." },
      { id: 3, name: "–û–¥–Ω–æ—Ä–∞–∑–∫–∞ Elf Bar", category: "disposable", price: 750, image: "https://via.placeholder.com/240x180", description: "–ü–æ–ø—É–ª—è—Ä–Ω–∞—è –æ–¥–Ω–æ—Ä–∞–∑–∫–∞." },
      { id: 4, name: "–ò—Å–ø–∞—Ä–∏—Ç–µ–ª—å GTX", category: "vaporizer", price: 400, image: "https://via.placeholder.com/240x180", description: "–ò—Å–ø–∞—Ä–∏—Ç–µ–ª—å –¥–ª—è POD —Å–∏—Å—Ç–µ–º." },
      { id: 5, name: "Pod Zeus X", category: "pod", price: 1800, image: "https://via.placeholder.com/240x180", description: "–ó–µ–≤—Å –æ–¥–æ–±—Ä—è–µ—Ç!" },
      { id: 6, name: "–ñ–∏–∂–∞ Ambrosia", category: "juice", price: 800, image: "https://via.placeholder.com/240x180", description: "–ù–µ–∫—Ç–∞—Ä –±–æ–≥–æ–≤." }
    ];

    function renderProducts(filter = null) {
      const list = document.getElementById('product-list');
      list.innerHTML = '';
      const filtered = filter ? products.filter(p => p.category === filter) : products;
      
      if (filtered.length === 0) {
        list.innerHTML = '<p style="grid-column: 1/-1; text-align: center;">–¢–æ–≤–∞—Ä–æ–≤ –Ω–µ—Ç, —Å–º–µ—Ä—Ç–Ω—ã–π! –ü—Ä–æ–≤–µ—Ä—å –ø–æ–∑–∂–µ.</p>';
        return;
      }
      
      for (const product of filtered) {
        const card = document.createElement('div');
        card.className = 'product-card';
        card.innerHTML = `
          <img src="${product.image}" alt="${product.name}" />
          <h3>${product.name}</h3>
          <p>${product.description}</p>
          <p class="price">${product.price} ‚ÇΩ</p>
          <div class="qty-controls">
            <button onclick="decreaseQty(${product.id})">‚àí</button>
            <span id="qty-${product.id}">0</span>
            <button onclick="increaseQty(${product.id})">+</button>
          </div>
        `;
        list.appendChild(card);
      }
    }

    function filterCategory(cat) {
      renderProducts(cat);
    }

    function increaseQty(id) {
      const span = document.getElementById(`qty-${id}`);
      let count = parseInt(span.innerText);
      if (count < 15) count++;
      span.innerText = count;
      updateCartDisplay();
    }

    function decreaseQty(id) {
      const span = document.getElementById(`qty-${id}`);
      let count = parseInt(span.innerText);
      if (count > 0) count--;
      span.innerText = count;
      updateCartDisplay();
    }

    function updateCartDisplay() {
      const cartItems = document.getElementById("cart-items");
      cartItems.innerHTML = '';
      
      let subtotal = 0;
      for (const product of products) {
        const qty = parseInt(document.getElementById(`qty-${product.id}`).innerText);
        if (qty > 0) {
          const p = document.createElement('p');
          p.textContent = `${product.name} x${qty} ‚Äî ${product.price * qty}‚ÇΩ`;
          cartItems.appendChild(p);
          subtotal += product.price * qty;
        }
      }
      
      const deliverySelect = document.getElementById("delivery");
      const deliveryPrice = deliverySelect.value ? parseInt(deliverySelect.value) : 0;
      const deliveryName = deliverySelect.selectedOptions[0]?.text || "";
      
      document.getElementById("total-summary").innerHTML = `
        <p>–¢–æ–≤–∞—Ä—ã: ${subtotal}‚ÇΩ</p>
        ${deliveryName ? `<p>–î–æ—Å—Ç–∞–≤–∫–∞: ${deliveryName}</p>` : ''}
        <p style="color: #ffd700;">–ò—Ç–æ–≥–æ: ${subtotal + deliveryPrice}‚ÇΩ</p>
      `;
    }

    function submitOrder() {
      const address = document.getElementById('address').value.trim();
      if (!address) {
        alert("–ì–¥–µ –∞–¥—Ä–µ—Å, —Å–º–µ—Ä—Ç–Ω—ã–π? –ó–µ–≤—Å –Ω–µ –≤—Å–µ–≤–∏–¥—è—â–∏–π!");
        return;
      }
      
      const deliverySelect = document.getElementById("delivery");
      if (!deliverySelect.value) {
        alert("–í—ã–±–µ—Ä–∏ —Ä–∞–π–æ–Ω, –∏–Ω–∞—á–µ –ì–µ—Ä–º–µ—Å –Ω–µ –Ω–∞–π–¥–µ—Ç –¥–æ—Ä–æ–≥—É!");
        return;
      }

      const cart = products
        .map(p => {
          const qty = parseInt(document.getElementById(`qty-${p.id}`).innerText);
          return qty > 0 ? { ...p, qty } : null;
        })
        .filter(Boolean);

      if (cart.length === 0) {
        alert("–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞! –¢—ã —á—Ç–æ, –Ω–µ —Ö–æ—á–µ—à—å –≥–Ω–µ–≤–∞ –ó–µ–≤—Å–∞?");
        return;
      }

      const summary = {
        address,
        delivery: deliverySelect.selectedOptions[0].text,
        items: cart,
        subtotal: cart.reduce((sum, p) => sum + p.price * p.qty, 0),
        deliveryPrice: parseInt(deliverySelect.value),
        total: cart.reduce((sum, p) => sum + p.price * p.qty, 0) + parseInt(deliverySelect.value),
        timestamp: new Date().toISOString()
      };

      // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ WebApp API
      Telegram.WebApp.sendData(JSON.stringify(summary));
      // –ó–∞–∫—Ä—ã—Ç–∏–µ WebApp
      Telegram.WebApp.close();
    }

    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
    renderProducts();
    
    // –û–±–Ω–æ–≤–ª—è–µ–º –∫–æ—Ä–∑–∏–Ω—É –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –¥–æ—Å—Ç–∞–≤–∫–∏
    document.getElementById("delivery").addEventListener("change", updateCartDisplay);
  </script>
</body>
</html>